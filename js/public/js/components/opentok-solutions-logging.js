(function(){var n,e=function(n,e,t){var o,i,r="";return t&&(o=new Date,o.setTime(o.getTime()+24*t*60*60*1e3),r=["; expires=",o.toGMTString()].join("")),i=[n,"=",e,r,"; path=/"].join(""),document.cookie=i,e},t=function(n){var e,t,o=[n,"="].join(""),i=document.cookie.split(";");for(e=0;e<i.length;e++){for(t=i[e];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(o))return t.substring(o.length,t.length)}return null},o=function(){var n,e=[],t="0123456789abcdef";for(n=0;n<36;n++)e.push(t.substr(Math.floor(16*Math.random()),1));return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},i=function(i){n.analyticsData.guid=t(i)||e(i,o(),7)},r=function(){if(!n.analyticsData.clientVersion)throw console.log("Error. The clientVersion field cannot be null in the log entry"),new Error("The clientVersion field cannot be null in the log entry");if(!n.analyticsData.source)throw console.log("Error. The source field cannot be null in the log entry"),new Error("The source field cannot be null in the log entry");if(!n.analyticsData.componentId)throw console.log("Error. The componentId field cannot be null in the log entry"),new Error("The componentId field cannot be null in the log entry");if(!n.analyticsData.name)throw console.log("Error. The name field cannot be null in the log entry"),new Error("The guid field cannot be null in the log entry");n.analyticsData.logVersion||(n.analyticsData.logVersion="2"),0===n.analyticsData.clientSystemTime&&(n.analyticsData.clientSystemTime=(new Date).getTime())},a=function(){var e=new XMLHttpRequest;e.open("POST",n.url,!0),e.setRequestHeader("Content-type","application/json"),e.send(JSON.stringify(n.analyticsData))},l=function(e){this.url="https://hlg.tokbox.com/prod/logging/ClientEvent",this.analyticsData=e,n=this,i(e.name)};l.prototype={constructor:l,logEvent:function(e){n.analyticsData.action=e.action,n.analyticsData.variation=e.variation,n.analyticsData.clientSystemTime=(new Date).getTime(),r(),a()},addSessionInfo:function(e){if(!e.sessionId)throw console.log("Error. The sessionId field cannot be null in the log entry"),new Error("The sessionId field cannot be null in the log entry");if(n.analyticsData.sessionId=e.sessionId,!e.connectionId)throw console.log("Error. The connectionId field cannot be null in the log entry"),new Error("The connectionId field cannot be null in the log entry");if(n.analyticsData.connectionId=e.connectionId,0===e.partnerId)throw console.log("Error. The partnerId field cannot be null in the log entry"),new Error("The partnerId field cannot be null in the log entry");n.analyticsData.partnerId=e.partnerId}},"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):this.OTKAnalytics=l}).call(this);